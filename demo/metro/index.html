<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>metro</title>
<style type="text/css">
.group { float: left; width: 300px;}
.waiting .box { -moz-transform: scale(0.8, 0.8); -webkit-transform: scale(0.8, 0.8); }
.box { float: left; margin: 5px; padding: 5px; width: 100px; height: 100px; background-color: #81d0e9; border: 2px solid #f00; transition: all 0.5s ease;}
</style>
</head>
<body>
<div class="group">
    <div draggable="true" class="box">111111111111</div>
    <div draggable="true" class="box">222222222222</div>
    <div draggable="true" class="box">333333333333</div>
    <div draggable="true" class="box">444444444444</div>
    <div draggable="true" class="box">555555555555</div>
    <div draggable="true" class="box">666666666666</div>
</div>
<div class="group">
    <div draggable="true" class="box">111111111111</div>
    <div draggable="true" class="box">222222222222</div>
    <div draggable="true" class="box">333333333333</div>
    <div draggable="true" class="box">444444444444</div>
    <div draggable="true" class="box">555555555555</div>
    <div draggable="true" class="box">666666666666</div>
</div>
<script>
(function(){
    var box = document.querySelectorAll(".box");
    var group = document.querySelectorAll(".group");
    var content, origin;

    document.addEventListener("dragstart", handles, false);
    document.addEventListener("dragenter", handles, false);
    document.addEventListener("dragover", handles, false);
    document.addEventListener("dragout", handles, false);
    document.addEventListener("drop", handles, false);

    function handles(e) {
//        console.log(e.type);
        switch (e.type) {
            case "dragstart":
                content = e.target.outerHTML;
                origin = e.target;
                e.dataTransfer.effectAllowed = "all";
                e.dataTransfer.setData("text/html", content);
                [].forEach.call(group, function(obj){
                    obj.className = "group waiting";
                });
                break;
            case "dragenter":
                console.log(e);
//                e.target.style.opacity = 0.8;
                break;
            case "dragover":
                e.preventDefault();
                e.dataTransfer.dropEffect = "move";
                break;
            case "drop":
                e.preventDefault();
                origin.outerHTML = e.target.outerHTML;
                e.target.outerHTML = e.dataTransfer.getData("text/html");
                [].forEach.call(group, function(obj){
                    obj.className = "group";
                });
                break;
        }
    }
})();
</script>
</body>
</html>